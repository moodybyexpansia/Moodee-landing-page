---
import Layout from "../layouts/Layout.astro";
// /blog/index.astro
import { sanityClient } from "sanity:client";

const posts = await sanityClient.fetch(
  `*[_type == "post" && defined(slug)] | order(publishedAt desc)`,
);
---

<Layout title="Resources">
  <div class="mx-auto w-11/12 max-w-7xl">Resources</div>

  <h1>Blog</h1>
  <ul>
    {
      posts.map((post) => (
        <li>
          <a href={"/posts/" + post.slug.current} class="post-link">
            {post.title}
          </a>
        </li>
      ))
    }
  </ul>
</Layout>
